import{S as A,i as E,s as P,e as g,a as p,b as w,n as L,d as y,o as W,c as O,g as D,t as v,f as C,h as _,j as G,k as B,m as M,l as j,p as k,q as Q,r as H,u as N,v as R,w as I,x as Z,y as z}from"./vendor.11740028.js";const x=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function l(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=l(r);fetch(r.href,s)}};x();function ee(a){let e,l;return{c(){e=g("div"),p(e,"id",l=a[0].id)},m(t,r){w(t,e,r)},p(t,[r]){r&1&&l!==(l=t[0].id)&&p(e,"id",l)},i:L,o:L,d(t){t&&y(e)}}}function te(a,e,l){let{chart:t}=e;return W(()=>{Plotly.newPlot(document.getElementById(t.id),t.data,t.layout,t.config)}),a.$$set=r=>{"chart"in r&&l(0,t=r.chart)},[t]}class X extends A{constructor(e){super();E(this,e,te,ee,P,{chart:0})}}function U(a){let e,l,t,r;const s=[le,re],n=[];function i(c,m){return c[1]?0:1}return e=i(a),l=n[e]=s[e](a),{c(){l.c(),t=O()},m(c,m){n[e].m(c,m),w(c,t,m),r=!0},p(c,m){let u=e;e=i(c),e===u?n[e].p(c,m):(D(),v(n[u],1,1,()=>{n[u]=null}),C(),l=n[e],l?l.p(c,m):(l=n[e]=s[e](c),l.c()),_(l,1),l.m(t.parentNode,t))},i(c){r||(_(l),r=!0)},o(c){v(l),r=!1},d(c){n[e].d(c),c&&y(t)}}}function re(a){let e,l;return e=new X({props:{chart:a[0]}}),{c(){B(e.$$.fragment)},m(t,r){M(e,t,r),l=!0},p(t,r){const s={};r&1&&(s.chart=t[0]),e.$set(s)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function le(a){let e,l,t=a[0].title+"",r,s,n,i,c,m;i=new X({props:{chart:a[0]}});let u=a[2]&&V(a);return{c(){e=g("div"),l=g("div"),r=H(t),s=N(),n=g("div"),B(i.$$.fragment),c=N(),u&&u.c(),p(l,"class","card-header"),p(n,"class","card-body"),p(e,"class","card text-center border-secondary")},m(o,d){w(o,e,d),k(e,l),k(l,r),k(e,s),k(e,n),M(i,n,null),k(e,c),u&&u.m(e,null),m=!0},p(o,d){(!m||d&1)&&t!==(t=o[0].title+"")&&R(r,t);const h={};d&1&&(h.chart=o[0]),i.$set(h),o[2]?u?u.p(o,d):(u=V(o),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(o){m||(_(i.$$.fragment,o),m=!0)},o(o){v(i.$$.fragment,o),m=!1},d(o){o&&y(e),j(i),u&&u.d()}}}function V(a){let e,l,t,r;return{c(){e=g("div"),l=g("button"),l.innerHTML='<div><i class="fas fa-expand-arrows-alt"></i></div>',p(e,"class","card-footer")},m(s,n){w(s,e,n),k(e,l),t||(r=Q(l,"click",a[3]),t=!0)},p:L,d(s){s&&y(e),t=!1,r()}}}function se(a){let e,l,t=a[0]&&U(a);return{c(){t&&t.c(),e=O()},m(r,s){t&&t.m(r,s),w(r,e,s),l=!0},p(r,[s]){r[0]?t?(t.p(r,s),s&1&&_(t,1)):(t=U(r),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(D(),v(t,1,1,()=>{t=null}),C())},i(r){l||(_(t),l=!0)},o(r){v(t),l=!1},d(r){t&&t.d(r),r&&y(e)}}}function ne(a,e,l){let{chart:t}=e,{card:r}=e,{footer:s}=e,n=G();function i(){n("modal",{chart:t})}return a.$$set=c=>{"chart"in c&&l(0,t=c.chart),"card"in c&&l(1,r=c.card),"footer"in c&&l(2,s=c.footer)},[t,r,s,i]}class Y extends A{constructor(e){super();E(this,e,ne,se,P,{chart:0,card:1,footer:2})}}function q(a,e,l){const t=a.slice();return t[4]=e[l],t}function F(a){let e,l,t,r;return l=new Y({props:{chart:a[4],card:!0,footer:!0}}),l.$on("modal",a[3]),{c(){e=g("div"),B(l.$$.fragment),t=N(),p(e,"class","col")},m(s,n){w(s,e,n),M(l,e,null),k(e,t),r=!0},p(s,n){const i={};n&1&&(i.chart=s[4]),l.$set(i)},i(s){r||(_(l.$$.fragment,s),r=!0)},o(s){v(l.$$.fragment,s),r=!1},d(s){s&&y(e),j(l)}}}function J(a){let e,l;return e=new Y({props:{chart:a[1],card:!0}}),{c(){B(e.$$.fragment)},m(t,r){M(e,t,r),l=!0},p(t,r){const s={};r&2&&(s.chart=t[1]),e.$set(s)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function ae(a){let e,l,t,r,s,n,i,c=a[1],m,u=a[0],o=[];for(let f=0;f<u.length;f+=1)o[f]=F(q(a,u,f));const d=f=>v(o[f],1,1,()=>{o[f]=null});let h=J(a);return{c(){e=g("div"),l=g("div");for(let f=0;f<o.length;f+=1)o[f].c();t=N(),r=g("div"),s=g("div"),n=g("div"),i=g("div"),h.c(),p(l,"class","row row-cols-1 row-cols-md-2 g-2"),p(e,"class","container-fluid gutter"),p(i,"class","modal-body"),p(n,"class","modal-content"),p(s,"class","modal-dialog modal-xl"),p(r,"id","chart-modal"),p(r,"class","modal fade  svelte-15rohx1"),p(r,"tabindex","-1"),I(r,"show",a[2])},m(f,$){w(f,e,$),k(e,l);for(let b=0;b<o.length;b+=1)o[b].m(l,null);w(f,t,$),w(f,r,$),k(r,s),k(s,n),k(n,i),h.m(i,null),m=!0},p(f,[$]){if($&9){u=f[0];let b;for(b=0;b<u.length;b+=1){const S=q(f,u,b);o[b]?(o[b].p(S,$),_(o[b],1)):(o[b]=F(S),o[b].c(),_(o[b],1),o[b].m(l,null))}for(D(),b=u.length;b<o.length;b+=1)d(b);C()}$&2&&P(c,c=f[1])?(D(),v(h,1,1,L),C(),h=J(f),h.c(),_(h),h.m(i,null)):h.p(f,$),$&4&&I(r,"show",f[2])},i(f){if(!m){for(let $=0;$<u.length;$+=1)_(o[$]);_(h),m=!0}},o(f){o=o.filter(Boolean);for(let $=0;$<o.length;$+=1)v(o[$]);v(h),m=!1},d(f){f&&y(e),Z(o,f),f&&y(t),f&&y(r),h.d(f)}}}function oe(a,e,l){let{charts:t}=e,r,s=!1;function n(i){l(2,s=!0);let c=new bootstrap.Modal(document.getElementById("chart-modal"),{});l(1,r=i.detail.chart),l(1,r.id="modal-plot",r),c.show()}return a.$$set=i=>{"charts"in i&&l(0,t=i.charts)},[t,r,s,n]}class ie extends A{constructor(e){super();E(this,e,oe,ae,P,{charts:0})}}function K(a){let e,l;return e=new ie({props:{charts:a[1]}}),{c(){B(e.$$.fragment)},m(t,r){M(e,t,r),l=!0},p:L,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function ce(a){let e,l,t,r,s=a[0]&&K(a);return{c(){e=g("h1"),e.textContent="UK Covid Data",l=N(),s&&s.c(),t=O(),p(e,"class","svelte-2k3nlg")},m(n,i){w(n,e,i),w(n,l,i),s&&s.m(n,i),w(n,t,i),r=!0},p(n,[i]){n[0]?s?(s.p(n,i),i&1&&_(s,1)):(s=K(n),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(D(),v(s,1,1,()=>{s=null}),C())},i(n){r||(_(s),r=!0)},o(n){v(s),r=!1},d(n){n&&y(e),n&&y(l),s&&s.d(n),n&&y(t)}}}function fe(a,e,l){const t=[];let r=!1;const s={date:"date",newCasesByPublishDate:"newCasesByPublishDate",cumCasesByPublishDate:"cumCasesByPublishDate",newDeaths28DaysByPublishDate:"newDeaths28DaysByPublishDate",cumDeaths28DaysByPublishDate:"cumDeaths28DaysByPublishDate"},n=`https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=nation;areaName=england&structure=${JSON.stringify(s)}`;console.log(n);const i=async m=>await(await fetch(m)).json();return(async()=>{const m=await i(n);console.log(m);const u=Object.keys(m.data[0]);console.log(u);let o=m.data.map(d=>d.date);console.log(o),u.forEach(d=>{d!=="date"&&t.push({id:d,title:d,data:[{name:d,x:o,y:m.data.map(h=>h[d]),mode:"lines",type:"scatter"}],layout:{autosize:!0,showlegend:!0,margin:{l:40,r:40,b:30,t:10},legend:{orientation:"h",yanchor:"bottom",y:1.05,xanchor:"right",x:1}},config:{responsive:!0,displayModeBar:!1}})}),l(0,r=!0)})(),[r,t]}class ue extends A{constructor(e){super();E(this,e,fe,ce,P,{})}}function T(a){let e,l;return e=new ue({}),{c(){B(e.$$.fragment)},m(t,r){M(e,t,r),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function de(a){let e,l,t,r,s,n,i,c,m,u,o,d=a[0]&&T();return{c(){e=g("link"),l=g("script"),r=g("script"),n=g("link"),i=N(),d&&d.c(),c=O(),p(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"),p(e,"rel","stylesheet"),p(e,"integrity","sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"),p(e,"crossorigin","anonymous"),z(l.src,t="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js")||p(l,"src",t),p(l,"integrity","sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"),p(l,"crossorigin","anonymous"),z(r.src,s="https://cdn.plot.ly/plotly-2.11.1.min.js")||p(r,"src",s),p(n,"rel","stylesheet"),p(n,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css")},m(h,f){k(document.head,e),k(document.head,l),k(document.head,r),k(document.head,n),w(h,i,f),d&&d.m(h,f),w(h,c,f),m=!0,u||(o=Q(r,"load",a[1]),u=!0)},p(h,[f]){h[0]?d?f&1&&_(d,1):(d=T(),d.c(),_(d,1),d.m(c.parentNode,c)):d&&(D(),v(d,1,1,()=>{d=null}),C())},i(h){m||(_(d),m=!0)},o(h){v(d),m=!1},d(h){y(e),y(l),y(r),y(n),h&&y(i),d&&d.d(h),h&&y(c),u=!1,o()}}}function me(a,e,l){let t=!1;function r(){l(0,t=!0)}return[t,r]}class he extends A{constructor(e){super();E(this,e,me,de,P,{})}}new he({target:document.body});
