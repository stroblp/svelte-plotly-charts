import{S as B,i as j,s as C,e as g,a as m,b as v,n as A,d as p,o as K,c as L,g as k,t as _,f as w,h,j as X,k as D,m as N,l as M,p as y,q as T,r as Y,u as P,v as W,w as G,x as H,y as E}from"./vendor.11740028.js";const R=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(l){if(l.ep)return;l.ep=!0;const n=r(l);fetch(l.href,n)}};R();function Z(c){let e,r;return{c(){e=g("div"),m(e,"id",r=c[0].id)},m(t,l){v(t,e,l)},p(t,[l]){l&1&&r!==(r=t[0].id)&&m(e,"id",r)},i:A,o:A,d(t){t&&p(e)}}}function x(c,e,r){let{chart:t}=e;return K(()=>{Plotly.newPlot(document.getElementById(t.id),t.data,t.layout,t.config)}),c.$$set=l=>{"chart"in l&&r(0,t=l.chart)},[t]}class V extends B{constructor(e){super();j(this,e,x,Z,C,{chart:0})}}function O(c){let e,r,t,l;const n=[te,ee],a=[];function o(u,f){return u[1]?0:1}return e=o(c),r=a[e]=n[e](c),{c(){r.c(),t=L()},m(u,f){a[e].m(u,f),v(u,t,f),l=!0},p(u,f){let s=e;e=o(u),e===s?a[e].p(u,f):(k(),_(a[s],1,1,()=>{a[s]=null}),w(),r=a[e],r?r.p(u,f):(r=a[e]=n[e](u),r.c()),h(r,1),r.m(t.parentNode,t))},i(u){l||(h(r),l=!0)},o(u){_(r),l=!1},d(u){a[e].d(u),u&&p(t)}}}function ee(c){let e,r;return e=new V({props:{chart:c[0]}}),{c(){D(e.$$.fragment)},m(t,l){N(e,t,l),r=!0},p(t,l){const n={};l&1&&(n.chart=t[0]),e.$set(n)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){_(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function te(c){let e,r,t=c[0].title+"",l,n,a,o,u,f;o=new V({props:{chart:c[0]}});let s=c[2]&&S(c);return{c(){e=g("div"),r=g("div"),l=Y(t),n=P(),a=g("div"),D(o.$$.fragment),u=P(),s&&s.c(),m(r,"class","card-header"),m(a,"class","card-body"),m(e,"class","card text-center border-secondary")},m(d,i){v(d,e,i),y(e,r),y(r,l),y(e,n),y(e,a),N(o,a,null),y(e,u),s&&s.m(e,null),f=!0},p(d,i){(!f||i&1)&&t!==(t=d[0].title+"")&&W(l,t);const b={};i&1&&(b.chart=d[0]),o.$set(b),d[2]?s?s.p(d,i):(s=S(d),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(d){f||(h(o.$$.fragment,d),f=!0)},o(d){_(o.$$.fragment,d),f=!1},d(d){d&&p(e),M(o),s&&s.d()}}}function S(c){let e,r,t,l;return{c(){e=g("div"),r=g("button"),r.innerHTML='<div><i class="fas fa-expand-arrows-alt"></i></div>',m(e,"class","card-footer")},m(n,a){v(n,e,a),y(e,r),t||(l=T(r,"click",c[3]),t=!0)},p:A,d(n){n&&p(e),t=!1,l()}}}function re(c){let e,r,t=c[0]&&O(c);return{c(){t&&t.c(),e=L()},m(l,n){t&&t.m(l,n),v(l,e,n),r=!0},p(l,[n]){l[0]?t?(t.p(l,n),n&1&&h(t,1)):(t=O(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(k(),_(t,1,1,()=>{t=null}),w())},i(l){r||(h(t),r=!0)},o(l){_(t),r=!1},d(l){t&&t.d(l),l&&p(e)}}}function le(c,e,r){let{chart:t}=e,{card:l}=e,{footer:n}=e;console.log(t);let a=X();function o(){a("modal",{chart:t})}return c.$$set=u=>{"chart"in u&&r(0,t=u.chart),"card"in u&&r(1,l=u.card),"footer"in u&&r(2,n=u.footer)},[t,l,n,o]}class Q extends B{constructor(e){super();j(this,e,le,re,C,{chart:0,card:1,footer:2})}}function ne(c){let e,r,t,l,n,a;return n=new Q({props:{chart:c[0],card:c[1]}}),{c(){e=g("div"),r=g("div"),t=g("div"),l=g("div"),D(n.$$.fragment),m(l,"class","modal-body"),m(t,"class","modal-content"),m(r,"class","modal-dialog modal-xl"),m(e,"id","chart-modal"),m(e,"class","modal fade  svelte-1jvcpd3"),m(e,"tabindex","-1"),G(e,"show",!0)},m(o,u){v(o,e,u),y(e,r),y(r,t),y(t,l),N(n,l,null),a=!0},p(o,[u]){const f={};u&1&&(f.chart=o[0]),u&2&&(f.card=o[1]),n.$set(f)},i(o){a||(h(n.$$.fragment,o),a=!0)},o(o){_(n.$$.fragment,o),a=!1},d(o){o&&p(e),M(n)}}}function ae(c,e,r){let{chart:t}=e,{card:l}=e;return K(()=>{new bootstrap.Modal(document.getElementById("chart-modal"),{}).show()}),c.$$set=n=>{"chart"in n&&r(0,t=n.chart),"card"in n&&r(1,l=n.card)},[t,l]}class se extends B{constructor(e){super();j(this,e,ae,ne,C,{chart:0,card:1})}}function I(c,e,r){const t=c.slice();return t[7]=e[r],t}function z(c){let e,r,t,l;return r=new Q({props:{chart:c[7],card:c[3],footer:c[4]}}),r.$on("modal",c[6]),{c(){e=g("div"),D(r.$$.fragment),t=P(),m(e,"class","col")},m(n,a){v(n,e,a),N(r,e,null),y(e,t),l=!0},p(n,a){const o={};a&1&&(o.chart=n[7]),a&8&&(o.card=n[3]),a&16&&(o.footer=n[4]),r.$set(o)},i(n){l||(h(r.$$.fragment,n),l=!0)},o(n){_(r.$$.fragment,n),l=!1},d(n){n&&p(e),M(r)}}}function U(c){let e=c[5],r,t,l=q(c);return{c(){l.c(),r=L()},m(n,a){l.m(n,a),v(n,r,a),t=!0},p(n,a){a&32&&C(e,e=n[5])?(k(),_(l,1,1,A),w(),l=q(n),l.c(),h(l),l.m(r.parentNode,r)):l.p(n,a)},i(n){t||(h(l),t=!0)},o(n){_(l),t=!1},d(n){n&&p(r),l.d(n)}}}function q(c){let e,r;return e=new se({props:{chart:c[5],card:c[3]}}),{c(){D(e.$$.fragment)},m(t,l){N(e,t,l),r=!0},p(t,l){const n={};l&32&&(n.chart=t[5]),l&8&&(n.card=t[3]),e.$set(n)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){_(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function oe(c){let e,r,t,l,n,a=c[0],o=[];for(let s=0;s<a.length;s+=1)o[s]=z(I(c,a,s));const u=s=>_(o[s],1,1,()=>{o[s]=null});let f=c[5]&&U(c);return{c(){e=g("div"),r=g("div");for(let s=0;s<o.length;s+=1)o[s].c();t=P(),f&&f.c(),l=L(),m(r,"class",c[2]),m(e,"class",c[1])},m(s,d){v(s,e,d),y(e,r);for(let i=0;i<o.length;i+=1)o[i].m(r,null);v(s,t,d),f&&f.m(s,d),v(s,l,d),n=!0},p(s,[d]){if(d&89){a=s[0];let i;for(i=0;i<a.length;i+=1){const b=I(s,a,i);o[i]?(o[i].p(b,d),h(o[i],1)):(o[i]=z(b),o[i].c(),h(o[i],1),o[i].m(r,null))}for(k(),i=a.length;i<o.length;i+=1)u(i);w()}(!n||d&4)&&m(r,"class",s[2]),(!n||d&2)&&m(e,"class",s[1]),s[5]?f?(f.p(s,d),d&32&&h(f,1)):(f=U(s),f.c(),h(f,1),f.m(l.parentNode,l)):f&&(k(),_(f,1,1,()=>{f=null}),w())},i(s){if(!n){for(let d=0;d<a.length;d+=1)h(o[d]);h(f),n=!0}},o(s){o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)_(o[d]);_(f),n=!1},d(s){s&&p(e),H(o,s),s&&p(t),f&&f.d(s),s&&p(l)}}}function ce(c,e,r){let{charts:t}=e,{containerClass:l="container-fluid gutter"}=e,{rowClass:n="row row-cols-1 row-cols-md-2 g-2"}=e,{card:a=!0}=e,{footer:o=!0}=e,u;function f(s){r(5,u=s.detail.chart),r(5,u.id="modal-"+u.id,u)}return c.$$set=s=>{"charts"in s&&r(0,t=s.charts),"containerClass"in s&&r(1,l=s.containerClass),"rowClass"in s&&r(2,n=s.rowClass),"card"in s&&r(3,a=s.card),"footer"in s&&r(4,o=s.footer)},[t,l,n,a,o,u,f]}class ie extends B{constructor(e){super();j(this,e,ce,oe,C,{charts:0,containerClass:1,rowClass:2,card:3,footer:4})}}function F(c){let e,r;return e=new ie({props:{charts:c[1]}}),{c(){D(e.$$.fragment)},m(t,l){N(e,t,l),r=!0},p:A,i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){_(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function fe(c){let e,r,t,l,n=c[0]&&F(c);return{c(){e=g("h1"),e.textContent="UK Covid Data",r=P(),n&&n.c(),t=L(),m(e,"class","svelte-t8fvut")},m(a,o){v(a,e,o),v(a,r,o),n&&n.m(a,o),v(a,t,o),l=!0},p(a,[o]){a[0]?n?(n.p(a,o),o&1&&h(n,1)):(n=F(a),n.c(),h(n,1),n.m(t.parentNode,t)):n&&(k(),_(n,1,1,()=>{n=null}),w())},i(a){l||(h(n),l=!0)},o(a){_(n),l=!1},d(a){a&&p(e),a&&p(r),n&&n.d(a),a&&p(t)}}}function ue(c,e,r){const t=[];let l=!1;const n={date:"date",newCasesByPublishDate:"newCasesByPublishDate",cumCasesByPublishDate:"cumCasesByPublishDate",newDeaths28DaysByPublishDate:"newDeaths28DaysByPublishDate",cumDeaths28DaysByPublishDate:"cumDeaths28DaysByPublishDate"},a=`https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=nation;areaName=england&structure=${JSON.stringify(n)}`;console.log(a);const o=async f=>await(await fetch(f)).json();return(async()=>{const f=await o(a);console.log(f);const s=Object.keys(f.data[0]);console.log(s);let d=f.data.map(i=>i.date);console.log(d),s.forEach(i=>{i!=="date"&&t.push({id:i,title:i,data:[{name:i,x:d,y:f.data.map(b=>b[i]),mode:"lines+markers",type:"scatter"}],layout:{autosize:!0,showlegend:!0,margin:{l:40,r:40,b:30,t:10},legend:{orientation:"h",yanchor:"bottom",y:1.05,xanchor:"right",x:1}},config:{responsive:!0,displayModeBar:!1}})}),r(0,l=!0)})(),[l,t]}class de extends B{constructor(e){super();j(this,e,ue,fe,C,{})}}function J(c){let e,r;return e=new de({}),{c(){D(e.$$.fragment)},m(t,l){N(e,t,l),r=!0},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){_(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function me(c){let e,r,t,l,n,a,o,u,f,s,d,i=c[0]&&J();return{c(){e=g("link"),r=g("script"),l=g("script"),a=g("link"),o=P(),i&&i.c(),u=L(),m(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"),m(e,"rel","stylesheet"),m(e,"integrity","sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"),m(e,"crossorigin","anonymous"),E(r.src,t="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js")||m(r,"src",t),m(r,"integrity","sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"),m(r,"crossorigin","anonymous"),E(l.src,n="https://cdn.plot.ly/plotly-2.11.1.min.js")||m(l,"src",n),m(a,"rel","stylesheet"),m(a,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css")},m(b,$){y(document.head,e),y(document.head,r),y(document.head,l),y(document.head,a),v(b,o,$),i&&i.m(b,$),v(b,u,$),f=!0,s||(d=T(l,"load",c[1]),s=!0)},p(b,[$]){b[0]?i?$&1&&h(i,1):(i=J(),i.c(),h(i,1),i.m(u.parentNode,u)):i&&(k(),_(i,1,1,()=>{i=null}),w())},i(b){f||(h(i),f=!0)},o(b){_(i),f=!1},d(b){p(e),p(r),p(l),p(a),b&&p(o),i&&i.d(b),b&&p(u),s=!1,d()}}}function he(c,e,r){let t=!1;function l(){r(0,t=!0)}return[t,l]}class _e extends B{constructor(e){super();j(this,e,he,me,C,{})}}new _e({target:document.body});
