import{S as P,i as B,s as $,e as g,a as m,b as v,n as A,d as p,o as K,c as j,g as k,t as _,f as w,h,j as X,k as D,m as C,l as N,p as y,q as T,r as Y,u as M,v as W,w as G,x as H,y as E}from"./vendor.11740028.js";const R=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function l(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(r){if(r.ep)return;r.ep=!0;const n=l(r);fetch(r.href,n)}};R();function Z(o){let e,l;return{c(){e=g("div"),m(e,"id",l=o[0].id)},m(t,r){v(t,e,r)},p(t,[r]){r&1&&l!==(l=t[0].id)&&m(e,"id",l)},i:A,o:A,d(t){t&&p(e)}}}function x(o,e,l){let{chart:t}=e;return K(()=>{Plotly.newPlot(document.getElementById(t.id),t.data,t.layout,t.config)}),o.$$set=r=>{"chart"in r&&l(0,t=r.chart)},[t]}class V extends P{constructor(e){super();B(this,e,x,Z,$,{chart:0})}}function O(o){let e,l,t,r;const n=[te,ee],a=[];function s(f,u){return f[1]?0:1}return e=s(o),l=a[e]=n[e](o),{c(){l.c(),t=j()},m(f,u){a[e].m(f,u),v(f,t,u),r=!0},p(f,u){let c=e;e=s(f),e===c?a[e].p(f,u):(k(),_(a[c],1,1,()=>{a[c]=null}),w(),l=a[e],l?l.p(f,u):(l=a[e]=n[e](f),l.c()),h(l,1),l.m(t.parentNode,t))},i(f){r||(h(l),r=!0)},o(f){_(l),r=!1},d(f){a[e].d(f),f&&p(t)}}}function ee(o){let e,l;return e=new V({props:{chart:o[0]}}),{c(){D(e.$$.fragment)},m(t,r){C(e,t,r),l=!0},p(t,r){const n={};r&1&&(n.chart=t[0]),e.$set(n)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){N(e,t)}}}function te(o){let e,l,t=o[0].title+"",r,n,a,s,f,u;s=new V({props:{chart:o[0]}});let c=o[2]&&S(o);return{c(){e=g("div"),l=g("div"),r=Y(t),n=M(),a=g("div"),D(s.$$.fragment),f=M(),c&&c.c(),m(l,"class","card-header"),m(a,"class","card-body"),m(e,"class","card text-center border-secondary")},m(d,i){v(d,e,i),y(e,l),y(l,r),y(e,n),y(e,a),C(s,a,null),y(e,f),c&&c.m(e,null),u=!0},p(d,i){(!u||i&1)&&t!==(t=d[0].title+"")&&W(r,t);const b={};i&1&&(b.chart=d[0]),s.$set(b),d[2]?c?c.p(d,i):(c=S(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(d){u||(h(s.$$.fragment,d),u=!0)},o(d){_(s.$$.fragment,d),u=!1},d(d){d&&p(e),N(s),c&&c.d()}}}function S(o){let e,l,t,r;return{c(){e=g("div"),l=g("button"),l.innerHTML='<div><i class="fas fa-expand-arrows-alt"></i></div>',m(e,"class","card-footer")},m(n,a){v(n,e,a),y(e,l),t||(r=T(l,"click",o[3]),t=!0)},p:A,d(n){n&&p(e),t=!1,r()}}}function re(o){let e,l,t=o[0]&&O(o);return{c(){t&&t.c(),e=j()},m(r,n){t&&t.m(r,n),v(r,e,n),l=!0},p(r,[n]){r[0]?t?(t.p(r,n),n&1&&h(t,1)):(t=O(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(k(),_(t,1,1,()=>{t=null}),w())},i(r){l||(h(t),l=!0)},o(r){_(t),l=!1},d(r){t&&t.d(r),r&&p(e)}}}function le(o,e,l){let{chart:t}=e,{card:r}=e,{footer:n}=e;console.log(t);let a=X();function s(){a("modal",{chart:t})}return o.$$set=f=>{"chart"in f&&l(0,t=f.chart),"card"in f&&l(1,r=f.card),"footer"in f&&l(2,n=f.footer)},[t,r,n,s]}class Q extends P{constructor(e){super();B(this,e,le,re,$,{chart:0,card:1,footer:2})}}function ne(o){let e,l,t,r,n,a;return n=new Q({props:{chart:o[0],card:o[1]}}),{c(){e=g("div"),l=g("div"),t=g("div"),r=g("div"),D(n.$$.fragment),m(r,"class","modal-body"),m(t,"class","modal-content"),m(l,"class","modal-dialog modal-xl"),m(e,"id","chart-modal"),m(e,"class","modal fade  svelte-1jvcpd3"),m(e,"tabindex","-1"),G(e,"show",!0)},m(s,f){v(s,e,f),y(e,l),y(l,t),y(t,r),C(n,r,null),a=!0},p(s,[f]){const u={};f&1&&(u.chart=s[0]),f&2&&(u.card=s[1]),n.$set(u)},i(s){a||(h(n.$$.fragment,s),a=!0)},o(s){_(n.$$.fragment,s),a=!1},d(s){s&&p(e),N(n)}}}function ae(o,e,l){let{chart:t}=e,{card:r}=e;return K(()=>{new bootstrap.Modal(document.getElementById("chart-modal"),{}).show()}),o.$$set=n=>{"chart"in n&&l(0,t=n.chart),"card"in n&&l(1,r=n.card)},[t,r]}class se extends P{constructor(e){super();B(this,e,ae,ne,$,{chart:0,card:1})}}function I(o,e,l){const t=o.slice();return t[6]=e[l],t}function z(o){let e,l,t,r;return l=new Q({props:{chart:o[6],card:o[1],footer:o[2]}}),l.$on("modal",o[4]),{c(){e=g("div"),D(l.$$.fragment),t=M(),m(e,"class","col")},m(n,a){v(n,e,a),C(l,e,null),y(e,t),r=!0},p(n,a){const s={};a&1&&(s.chart=n[6]),a&2&&(s.card=n[1]),a&4&&(s.footer=n[2]),l.$set(s)},i(n){r||(h(l.$$.fragment,n),r=!0)},o(n){_(l.$$.fragment,n),r=!1},d(n){n&&p(e),N(l)}}}function U(o){let e=o[3],l,t,r=q(o);return{c(){r.c(),l=j()},m(n,a){r.m(n,a),v(n,l,a),t=!0},p(n,a){a&8&&$(e,e=n[3])?(k(),_(r,1,1,A),w(),r=q(n),r.c(),h(r),r.m(l.parentNode,l)):r.p(n,a)},i(n){t||(h(r),t=!0)},o(n){_(r),t=!1},d(n){n&&p(l),r.d(n)}}}function q(o){let e,l;return e=new se({props:{chart:o[3],card:o[1]}}),{c(){D(e.$$.fragment)},m(t,r){C(e,t,r),l=!0},p(t,r){const n={};r&8&&(n.chart=t[3]),r&2&&(n.card=t[1]),e.$set(n)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){N(e,t)}}}function oe(o){let e,l,t,r,n,a=o[0],s=[];for(let c=0;c<a.length;c+=1)s[c]=z(I(o,a,c));const f=c=>_(s[c],1,1,()=>{s[c]=null});let u=o[3]&&U(o);return{c(){e=g("div"),l=g("div");for(let c=0;c<s.length;c+=1)s[c].c();t=M(),u&&u.c(),r=j(),m(l,"class","row row-cols-1 row-cols-md-2 g-2"),m(e,"class","container-fluid gutter")},m(c,d){v(c,e,d),y(e,l);for(let i=0;i<s.length;i+=1)s[i].m(l,null);v(c,t,d),u&&u.m(c,d),v(c,r,d),n=!0},p(c,[d]){if(d&23){a=c[0];let i;for(i=0;i<a.length;i+=1){const b=I(c,a,i);s[i]?(s[i].p(b,d),h(s[i],1)):(s[i]=z(b),s[i].c(),h(s[i],1),s[i].m(l,null))}for(k(),i=a.length;i<s.length;i+=1)f(i);w()}c[3]?u?(u.p(c,d),d&8&&h(u,1)):(u=U(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(k(),_(u,1,1,()=>{u=null}),w())},i(c){if(!n){for(let d=0;d<a.length;d+=1)h(s[d]);h(u),n=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)_(s[d]);_(u),n=!1},d(c){c&&p(e),H(s,c),c&&p(t),u&&u.d(c),c&&p(r)}}}function ce(o,e,l){let{charts:t}=e,{card:r=!0}=e,{footer:n=!0}=e,a;function s(f){l(3,a=f.detail.chart),l(3,a.id="modal-"+a.id,a)}return o.$$set=f=>{"charts"in f&&l(0,t=f.charts),"card"in f&&l(1,r=f.card),"footer"in f&&l(2,n=f.footer)},[t,r,n,a,s]}class ie extends P{constructor(e){super();B(this,e,ce,oe,$,{charts:0,card:1,footer:2})}}function F(o){let e,l;return e=new ie({props:{charts:o[1]}}),{c(){D(e.$$.fragment)},m(t,r){C(e,t,r),l=!0},p:A,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){N(e,t)}}}function fe(o){let e,l,t,r,n=o[0]&&F(o);return{c(){e=g("h1"),e.textContent="UK Covid Data",l=M(),n&&n.c(),t=j(),m(e,"class","svelte-2k3nlg")},m(a,s){v(a,e,s),v(a,l,s),n&&n.m(a,s),v(a,t,s),r=!0},p(a,[s]){a[0]?n?(n.p(a,s),s&1&&h(n,1)):(n=F(a),n.c(),h(n,1),n.m(t.parentNode,t)):n&&(k(),_(n,1,1,()=>{n=null}),w())},i(a){r||(h(n),r=!0)},o(a){_(n),r=!1},d(a){a&&p(e),a&&p(l),n&&n.d(a),a&&p(t)}}}function ue(o,e,l){const t=[];let r=!1;const n={date:"date",newCasesByPublishDate:"newCasesByPublishDate",cumCasesByPublishDate:"cumCasesByPublishDate",newDeaths28DaysByPublishDate:"newDeaths28DaysByPublishDate",cumDeaths28DaysByPublishDate:"cumDeaths28DaysByPublishDate"},a=`https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=nation;areaName=england&structure=${JSON.stringify(n)}`;console.log(a);const s=async u=>await(await fetch(u)).json();return(async()=>{const u=await s(a);console.log(u);const c=Object.keys(u.data[0]);console.log(c);let d=u.data.map(i=>i.date);console.log(d),c.forEach(i=>{i!=="date"&&t.push({id:i,title:i,data:[{name:i,x:d,y:u.data.map(b=>b[i]),mode:"lines",type:"scatter"}],layout:{autosize:!0,showlegend:!0,margin:{l:40,r:40,b:30,t:10},legend:{orientation:"h",yanchor:"bottom",y:1.05,xanchor:"right",x:1}},config:{responsive:!0,displayModeBar:!1}})}),l(0,r=!0)})(),[r,t]}class de extends P{constructor(e){super();B(this,e,ue,fe,$,{})}}function J(o){let e,l;return e=new de({}),{c(){D(e.$$.fragment)},m(t,r){C(e,t,r),l=!0},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){N(e,t)}}}function me(o){let e,l,t,r,n,a,s,f,u,c,d,i=o[0]&&J();return{c(){e=g("link"),l=g("script"),r=g("script"),a=g("link"),s=M(),i&&i.c(),f=j(),m(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"),m(e,"rel","stylesheet"),m(e,"integrity","sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"),m(e,"crossorigin","anonymous"),E(l.src,t="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js")||m(l,"src",t),m(l,"integrity","sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"),m(l,"crossorigin","anonymous"),E(r.src,n="https://cdn.plot.ly/plotly-2.11.1.min.js")||m(r,"src",n),m(a,"rel","stylesheet"),m(a,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css")},m(b,L){y(document.head,e),y(document.head,l),y(document.head,r),y(document.head,a),v(b,s,L),i&&i.m(b,L),v(b,f,L),u=!0,c||(d=T(r,"load",o[1]),c=!0)},p(b,[L]){b[0]?i?L&1&&h(i,1):(i=J(),i.c(),h(i,1),i.m(f.parentNode,f)):i&&(k(),_(i,1,1,()=>{i=null}),w())},i(b){u||(h(i),u=!0)},o(b){_(i),u=!1},d(b){p(e),p(l),p(r),p(a),b&&p(s),i&&i.d(b),b&&p(f),c=!1,d()}}}function he(o,e,l){let t=!1;function r(){l(0,t=!0)}return[t,r]}class _e extends P{constructor(e){super();B(this,e,he,me,$,{})}}new _e({target:document.body});
